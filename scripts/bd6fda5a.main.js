function getFilteredAndSortedData(a,b){var c=_.chain(a).filter(function(a){return a.acayear===b&&null!==a.wait_time}).map(function(a){return[new Date(a.timestamp).getTime(),a.wait_time]}).sort(function(a,b){return a[0]-b[0]}).value();return c}function makeSaferideGraph(){$("#graph1").highcharts("StockChart",{title:{text:"Average Montly Saferide Wait Times"},subtitle:{text:"Data gathered from @NUSafeRide Twitter account"},credits:{enabled:!1},exporting:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},navigator:{enabled:!1},plotOptions:{series:{dataGrouping:{approximation:"average",enabled:!0,forced:!0,units:[["month",[1]]]},animation:!1,states:{hover:{enabled:!1}}}},series:saferideSeries})}var saferideSeries=null;$(document).ready(function(){$.get("data/graph1.json",function(a){saferideSeries=[{name:"2012-2013",data:getFilteredAndSortedData(a,"2012-2013"),marker:{enabled:!0}},{name:"2013-2014",data:getFilteredAndSortedData(a,"2013-2014"),marker:{enabled:!0}},{name:"Summer 2014",data:getFilteredAndSortedData(a,"Summer 2014"),marker:{enabled:!0}},{name:"2014-2015",data:getFilteredAndSortedData(a,"2014-2015"),marker:{enabled:!0}}],makeSaferideGraph()})});